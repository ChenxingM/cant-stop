# CantStop 上帝模式控制台

## 概述

这是一个全新的、优化的游戏管理界面，具有完全的上帝视角控制能力。

## 特性

### 🎯 核心功能
- **唯一界面**: 不需要CLI，所有功能都在GUI中
- **上帝视角**: 完全的游戏监控和控制能力
- **统一数据库**: 整个项目只使用一个数据库文件
- **实时管理**: 玩家管理、游戏控制、状态监控

### 📋 界面布局

#### 左侧面板 - 玩家管理
- **添加新玩家**: 手动创建玩家账户
- **玩家列表**: 查看所有注册玩家
- **快速进入**: 一键切换到任意玩家

#### 中间面板 - 游戏控制
- **当前玩家**: 显示当前操作的玩家
- **游戏操作**: 开始游戏、掷骰子、结束轮次
- **积分管理**: 直接修改玩家积分
- **实时输出**: 查看所有操作结果

#### 右侧面板 - GM总览
- **统计信息**: 总玩家数、活跃游戏、游戏统计
- **玩家状态表**: 实时显示所有玩家状态
- **自动刷新**: 30秒自动更新数据
- **数据导出**: 导出完整的游戏数据

## 使用方法

### 启动上帝模式
```bash
python start_god_mode.py
```

### 数据库重置（如需要）
```bash
python reset_database.py
```

## 工作流程

1. **启动界面**: 运行 `start_god_mode.py`
2. **添加玩家**: 在左侧面板添加新玩家
3. **选择玩家**: 点击"进入游戏"切换到目标玩家
4. **游戏控制**: 在中间面板进行游戏操作
5. **监控状态**: 在右侧面板查看整体状态

## 技术架构

### 数据库统一
- 所有组件使用统一的绝对路径数据库
- 路径: `E:\0_Develop\cant-stop-bot\cant_stop.db`
- 确保GUI和其他组件数据同步

### 组件结构
- `GodModeGUI`: 主窗口
- `PlayerManagementPanel`: 玩家管理
- `GameControlPanel`: 游戏控制
- `GMOverviewPanel`: GM总览

### 游戏服务
- 统一的 `GameService` 处理所有游戏逻辑
- 自动的数据库管理和状态同步
- 完整的错误处理和用户反馈

## 优势

1. **简化操作**: 不需要记忆命令，所有功能都是图形化
2. **实时监控**: 随时查看游戏状态和玩家信息
3. **完全控制**: 可以操作任意玩家，修改任意数据
4. **数据安全**: 统一的数据库确保数据一致性
5. **用户友好**: 直观的界面，清晰的反馈信息

## 故障排除

### 如果遇到数据不同步
1. 运行 `python reset_database.py` 清理数据库
2. 重新启动 `python start_god_mode.py`

### 如果缺少依赖
```bash
pip install PySide6
```

### 如果GUI无法启动
检查Python版本和PySide6安装状态

## 文件说明

- `start_god_mode.py`: 主启动器
- `src/interfaces/god_mode_gui.py`: 上帝模式GUI实现
- `src/interfaces/gm_panel.py`: GM总览面板
- `reset_database.py`: 数据库重置工具
- `cant_stop.db`: 统一数据库文件